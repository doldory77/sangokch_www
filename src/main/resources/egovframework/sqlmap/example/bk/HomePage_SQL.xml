<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="HomePage">

	<typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	
	<parameterMap class="sangok.service.impl.BoardItem" id="boardItem">
		<!-- <parameter property="RTN_MSG" javaType="java.lang.String" jdbcType="CHAR" mode="OUT" /> -->
		<parameter property="DEL_YN" javaType="java.lang.String" jdbcType="VARCHAR" mode="IN" />
		<parameter property="SUBJECT" javaType="java.lang.String" jdbcType="VARCHAR" mode="IN" />
		<parameter property="CONTENT" javaType="java.lang.String" jdbcType="VARCHAR" mode="IN" />
		<parameter property="GROUP_ID" javaType="java.lang.String" jdbcType="VARCHAR" mode="IN" />
		<parameter property="SEQ_NO" javaType="java.lang.Integer" jdbcType="INTEGER" mode="IN" />
		<parameter property="SCREEN_YN" javaType="java.lang.String" jdbcType="VARCHAR" mode="IN" />
		<parameter property="DEPTH_NO" javaType="java.lang.Float" jdbcType="FLOAT" mode="IN" />
		<parameter property="ORD_NO" javaType="java.lang.Integer" jdbcType="INTEGER" mode="IN" />
		<parameter property="USE_YN" javaType="java.lang.String" jdbcType="VARCHAR" mode="IN" />
		<parameter property="USER_ID" javaType="java.lang.String" jdbcType="VARCHAR" mode="IN" />
	</parameterMap>

    <select id="selectCode" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
        <![CDATA[
		SELECT CODE
			 , CODE_NM 
		  FROM H_CODE
		 WHERE GROUP_ID = #GRP_ID#
		   AND USE_YN = 'Y'
        ]]>
    </select>
    
    <procedure id="selectMenuBySP" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
    	{ call SP_GET_MENU(#P_MENU_GROUP#, #P_DEPTH_CHAR#) }
    </procedure>
    
    <procedure id="updateBoard" parameterMap="boardItem">
    	{ call SP_MERGE_BOARD(#DEL_YN#, #SUBJECT#, #CONTENT#, #GROUP_ID#, #SEQ_NO#, #SCREEN_YN#, #DEPTH_NO#, #ORD_NO#, #USE_YN#, #USER_ID#) }
    </procedure>

</sqlMap>
